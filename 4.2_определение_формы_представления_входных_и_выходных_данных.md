# 4.2 Определение формы представления входных и выходных данных

## 4.2.1 Входные данные

**Форма создания/редактирования экспоната:**

Входные данные представлены в виде структурированной формы с валидацией:

```typescript
interface ExhibitFormData {
  // Обязательные поля
  title: string                    // Название экспоната
  description: string              // Краткое описание
  category: string                 // Категория
  
  // Опциональные поля
  inventoryNumber?: string          // Инвентарный номер
  fullDescription?: string         // Полное описание
  creationDate?: string            // Дата создания
  studentName?: string             // ФИО студента
  studentCourse?: string           // Курс
  studentGroup?: string            // Группа
  supervisor?: {                   // Научный руководитель
    name: string
    position?: string
    rank?: string
    department?: string
  }
  dimensions?: string              // Размеры
  currentLocation?: string         // Местонахождение
  isPublic: boolean               // Публичность
  
  // Медиа-файлы
  previewImage?: File              // Превью-изображение (файл)
  images?: File[]                  // Галерея изображений (файлы)
  modelFile?: File                 // 3D модель (файл)
  
  // Дополнительные данные
  creationInfo?: string            // Информация о создании
  technicalSpecs?: Record<string, string>  // Технические характеристики
  interestingFacts?: string[]       // Интересные факты
  relatedExhibits?: string[]       // Связанные экспонаты (ID)
  
  // Позиционирование в галерее
  galleryPositionX?: number
  galleryPositionY?: number
  galleryPositionZ?: number
  galleryScale?: number
  galleryRotationY?: number
  visibleInGallery: boolean
}
```

**Форма поиска и фильтрации:**

```typescript
interface SearchFilters {
  query?: string           // Поисковый запрос
  category?: string        // Фильтр по категории
  year?: string           // Фильтр по году
  only3D?: boolean        // Только с 3D моделями
  page?: number           // Номер страницы для пагинации
}
```

**Данные аутентификации:**

```typescript
interface AuthData {
  login: string           // Логин администратора
  password: string        // Пароль
}
```

## 4.2.2 Выходные данные

**Список экспонатов (API ответ):**

```typescript
interface ExhibitResponse {
  id: string
  inventoryNumber?: string
  title: string
  description: string
  fullDescription?: string
  creationDate?: string
  studentName?: string
  studentCourse?: string
  studentGroup?: string
  supervisor?: {
    id: string
    name: string
    position?: string
    rank?: string
    department?: string
  }
  dimensions?: string
  currentLocation?: string
  isPublic: boolean
  category: string
  year?: string
  modelPath?: string
  has3DModel: boolean
  previewImage?: string
  images: string[]        // Массив путей к изображениям
  creationInfo?: string
  technicalSpecs: Record<string, string>
  interestingFacts: string[]
  relatedExhibits: string[]
  galleryPositionX?: number
  galleryPositionY?: number
  galleryPositionZ?: number
  galleryScale?: number
  galleryRotationY?: number
  visibleInGallery: boolean
  createdAt: string       // ISO дата
  updatedAt: string       // ISO дата
}
```

**Представление в каталоге (карточка экспоната):**

Визуальное представление включает:
- Превью-изображение (300x300px, обрезанное)
- Название экспоната
- Категория (бейдж)
- Год создания
- Кнопка "Подробнее"

**Представление на детальной странице:**

Полная информация об экспонате:
- Заголовок с названием
- Галерея изображений (слайдер)
- Полное описание
- Информация об авторе (ФИО, курс, группа)
- Информация о научном руководителе
- Дополнительные характеристики (размеры, местонахождение)
- 3D модель (если имеется) с интерактивным просмотром
- QR-код для быстрого доступа
- Навигация (предыдущий/следующий экспонат)

**Представление в виртуальной галерее:**

3D представление экспоната:
- 3D модель (если has3DModel = true) или плоскость с изображением
- Позиционирование по координатам (X, Y, Z)
- Масштаб и поворот
- Интерактивное взаимодействие (клик для открытия деталей)

**QR-код:**

Визуальное представление:
- QR-код в формате PNG/SVG
- Ссылка на страницу экспоната: `/exhibit/{id}`
- Размер: 200x200px для отображения на сайте
- Размер: 300x300px для печати

## 4.2.3 Форматы данных

**JSON для API:**

Все API endpoints возвращают данные в формате JSON с кодировкой UTF-8:

```json
{
  "id": "uuid",
  "title": "Название",
  "description": "Описание",
  ...
}
```

**Изображения:**

- Форматы: JPEG, PNG, WebP
- Рекомендуемый размер превью: 800x800px
- Максимальный размер файла: 10 MB
- Оптимизация через Next.js Image

**3D модели:**

- Формат: GLB (бинарный GLTF)
- Альтернативный формат: GLTF (JSON + бинарные данные)
- Максимальный размер: 50 MB
- Рекомендуемое количество полигонов: < 50,000

**QR-коды:**

- Формат: PNG (для отображения) или SVG (для печати)
- Размер: 200x200px (веб) или 300x300px (печать)
- Коррекция ошибок: уровень M (15%)
